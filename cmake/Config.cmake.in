@PACKAGE_INIT@


function(include_config_files target)

    foreach(config_name ${ARGN})

        set(config_filename "${target}${config_name}.cmake")
        set(config_filepath "${CMAKE_CURRENT_LIST_DIR}/${target}/${config_filename}")

        if(EXISTS "${config_filepath}")
            include("${config_filepath}")
        endif()

    endforeach()

    if(NOT DEFINED ${CMAKE_FIND_PACKAGE_NAME}_NOT_FOUND_MESSAGE)
        set(@PROJECT_NAME@_${target}_FOUND 1 PARENT_SCOPE)
    endif()

endfunction()






# define available component
set(_supported_components uno unoCrypto unoFileSystem)


# search dependecies
include(CMakeFindDependencyMacro)
include(${CMAKE_CURRENT_LIST_DIR}/dependencies/include_all.cmake)



foreach(_comp ${@PROJECT_NAME@_FIND_COMPONENTS})

    if (NOT "${_supported_components}" MATCHES ${_comp})
        set(@PROJECT_NAME@_FOUND False)
        list(APPEND _unsupported_components ${_comp})
    else()
        if(IS_DIRECTORY ${CMAKE_CURRENT_LIST_DIR}/${_comp})
            include_config_files( ${_comp} Target)
        endif()
    endif()

endforeach()

set(@PROJECT_NAME@_NOTFOUND_MESSAGE "Unsupported component: ${_unsupported_components}")


check_required_components("@PROJECT_NAME@")
